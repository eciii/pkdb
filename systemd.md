Links:

- [systemd by example](https://systemd-by-example.com/)
- https://bl33pbl0p.github.io/systemd.html and https://bl33pbl0p.github.io/systemd.html

Thoughts:

- There are many written and unwritten assumptions about how to configure dependencies between units. For example:
	- systemd includes automatically some dependencies depending on the type of unit. This is documented in the man pages of each unit type.
	- Some rules and assumptions need to be taken into account to ensure that a unit is started after the network is online (there is a [whole documentation page about that](https://systemd.io/NETWORK_ONLINE/)). In particular what "online" means also depends on the software that manages the network configuration (either `systemd-networkd` or `NetworkManager`). But in order for the `network-online.target` to really work the right service unit of the network configuration software must be enabled. This is not done automatically in Debian, for example, and can potentially lead to problems. If the service unit of the network configuration software is not enabled then the `network-online.target` will be reached before the network is actually online (whatever "online" means). However, for some reason, NFS mount points don't seem to have a problem in this case. Maybe the NFS software is configured in some sort of "resilient" way.
- It seems to me that the amount of systemd knowledge required to correctly configure a unit is quite high (even the maintainers of APT seemed to have stumbled a few times with the configuration of the daily timers and I'm not sure if the current configuration is completely correct). This can be explained by to facts:
	- The system setup on boot is inherently complex, specially in modern desktop and mobile computer systems. Of course I don't think previous init systems could've done it better; on the contrary, if anything we are able to address this complexity at all only because of systemd.
	- On the other hand, it seems to me that the abstractions provided by systemd are not quite correct, and to fix this there are a lot of assumptions that have to be taken into account when trying to understand a systemd setup. In particular I feel that the abstraction that everything is a unit is a bit problematic, but right now I don't have any particular arguments for that, just intuition. Also it becomes necessary to dig into the systemd internals to get the right understanding of how things work. For example the concept of transactions is barely mentioned in the documentation but I think it is absolutely necessary in order to correctly understand how systemd works.
- The documentation of systemd is quite lacking. It lacks unity, cohesion and comprehensiveness. It lacks tutorials and explanations about why things are the way they are. It relies too heavily on the man pages, which are for reference only and thus very dry. It also relies too much on Lennart Poettering's blog posts.